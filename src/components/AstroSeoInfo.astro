---
import { AstroSeo } from '@astrolib/seo';
import siteDefaults from '../data/siteData.json';

const canonicalURL = new URL(Astro.url.pathname, Astro.url);
const siteURL = new URL("/", Astro.url);

const { seo: seoOverrides = {} } = Astro.props; // Get page-specific overrides
const seo = { ...siteDefaults.default, ...seoOverrides }; // Merge defaults with overrides

---

<AstroSeo
  title={ seo.title }
  description={ seo.description }
  canonical={ canonicalURL.toString() }
  openGraph={{
    url: seo.openGraph.basic.url,
    title: seo.openGraph.basic.title,
    description: seo.openGraph.basic.description,
    images: [
      {
        url: seo.openGraph.basic.url,
        width: 800,
        height: 600,
        alt: seo.openGraph.basic.alt,
        type: 'image/jpeg',
      },
    ],
    site_name: siteURL.toString(),
  }}
  twitter={{
    handle: seo.twitter.creator,
    site: seo.twitter.creator,
    cardType: 'app',
  }}
/>